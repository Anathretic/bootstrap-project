"use strict";var BODY,NAV,FIRST_SPECIAL_BTN,POPUP,POPUP_FORM,POPUP_MESSAGE,INPUT_NAME,INPUT_LAST_NAME,INPUT_PHONE_NUMBER,INPUT_EMAIL,SELECT_TREATMENT,INPUT_AMOUNT,POPUP_ICON,POPUP_FORM_BTN,POPUP_MESSAGE_BTN,INPUTS_ARRAY,popupMain=function(){popupPrepareDOMElements(),popupPrepareDOMEvents()},popupPrepareDOMElements=function(){BODY=document.querySelector("body"),NAV=document.querySelector(".nav"),FIRST_SPECIAL_BTN=document.querySelector(".button-box__item"),POPUP=document.querySelector(".popup"),POPUP_FORM=document.querySelector(".popup__form"),POPUP_MESSAGE=document.querySelector(".popup__message"),INPUT_NAME=document.querySelector("#popup-name"),INPUT_LAST_NAME=document.querySelector("#popup-last-name"),INPUT_PHONE_NUMBER=document.querySelector("#popup-phone-number"),INPUT_EMAIL=document.querySelector("#popup-email"),SELECT_TREATMENT=document.querySelector("#popup-treatment"),INPUT_AMOUNT=document.querySelector("#popup-amount"),POPUP_ICON=document.querySelector(".popup__box-icon"),POPUP_FORM_BTN=document.querySelector(".popup__box-btn"),POPUP_MESSAGE_BTN=document.querySelector(".popup__message-btn"),INPUTS_ARRAY=[INPUT_NAME,INPUT_LAST_NAME,INPUT_PHONE_NUMBER,INPUT_EMAIL,INPUT_AMOUNT]},popupPrepareDOMEvents=function(){POPUP.addEventListener("touchstart",showPopup,{passive:!0}),FIRST_SPECIAL_BTN.addEventListener("click",showPopup),POPUP_ICON.addEventListener("click",closePopup),POPUP_FORM_BTN.addEventListener("click",function(e){e.preventDefault(),checkForm(INPUTS_ARRAY),checkCharacters(INPUT_PHONE_NUMBER),checkNumber(INPUT_PHONE_NUMBER,9),checkMail(INPUT_EMAIL),checkSelect(SELECT_TREATMENT),checkAmount(INPUT_AMOUNT),checkErrors()}),POPUP_MESSAGE_BTN.addEventListener("click",refreshPopup)},showPopup=function(){POPUP.classList.add("popup--active"),FIRST_SPECIAL_BTN.classList.add("button-box__item--active"),scrollBlock()},closePopup=function(){POPUP.classList.remove("popup--active"),FIRST_SPECIAL_BTN.classList.remove("button-box__item--active"),setTimeout(function(){BODY.classList.remove("scroll-block"),BODY.classList.remove("scroll-block-padding"),NAV.classList.remove("scroll-block-padding")},100)},refreshPopup=function(){POPUP_MESSAGE.style.display="none",closePopup(),setTimeout(function(){POPUP_FORM.style.display="flex"},300)},showError=function(e,o){var e=e.parentElement,t=e.querySelector(".popup__box-error");e.classList.add("warning"),t.textContent=o},clearError=function(e){var e=e.parentElement,o=e.querySelector(".popup__box-error");e.classList.remove("warning"),o.textContent=""},clearAll=function(){INPUTS_ARRAY.forEach(function(e){e.value="",e.classList.remove("warning")}),SELECT_TREATMENT.value="0",SELECT_TREATMENT.style.border="none",FIRST_SPECIAL_BTN.classList.remove("button-box__item--active")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})},checkNumber=function(e,o){e.value.length<o&&showError(e,"Numer składa się z przynajmniej 9 cyfr..")},checkCharacters=function(e){new RegExp("^[0-9]*$").test(e.value)?clearError(e):showError(e,"Możesz używać samych cyfr!")},checkMail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"Wprowadź poprawnie swój e-mail..")},checkAmount=function(e){0<e.value?clearError(e):showError(e,"Podaj ilość osób..")},limitAmount=function(){5<INPUT_AMOUNT.value&&(INPUT_AMOUNT.value="5")},checkSelect=function(e){"0"!==e.value?clearError(e):showError(e,"Wybierz zabieg..")},checkErrors=function(){var e=document.querySelectorAll(".popup__box"),o=0;e.forEach(function(e){e.classList.contains("warning")&&o++}),0===o&&(clearAll(),POPUP_MESSAGE.style.display="block",POPUP_FORM.style.display="none")},scrollBlock=function(){var e=document.documentElement.clientWidth,e=window.innerWidth-e;document.documentElement.style.setProperty("--padding-space",e+"px"),POPUP.classList.contains("popup--active")&&(BODY.classList.contains("scroll-block")?BODY.classList.remove("scroll-block"):BODY.classList.add("scroll-block")),0<e&&(BODY.classList.add("scroll-block-padding"),NAV.classList.add("scroll-block-padding"))};document.addEventListener("DOMContentLoaded",popupMain);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1TY3JpcHQuanMiXSwibmFtZXMiOlsiQk9EWSIsIk5BViIsIkZJUlNUX1NQRUNJQUxfQlROIiwiUE9QVVAiLCJQT1BVUF9GT1JNIiwiUE9QVVBfTUVTU0FHRSIsIklOUFVUX05BTUUiLCJJTlBVVF9MQVNUX05BTUUiLCJJTlBVVF9QSE9ORV9OVU1CRVIiLCJJTlBVVF9FTUFJTCIsIlNFTEVDVF9UUkVBVE1FTlQiLCJJTlBVVF9BTU9VTlQiLCJQT1BVUF9JQ09OIiwiUE9QVVBfRk9STV9CVE4iLCJJTlBVVFNfQVJSQVkiLCJwb3B1cFByZXBhcmVET01FbGVtZW50cyIsInBvcHVwTWFpbiIsInBvcHVwUHJlcGFyZURPTUV2ZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlBPUFVQX01FU1NBR0VfQlROIiwicGFzc2l2ZSIsInNob3dQb3B1cCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZVBvcHVwIiwiY2hlY2tGb3JtIiwiY2hlY2tDaGFyYWN0ZXJzIiwiY2hlY2tOdW1iZXIiLCJjaGVja01haWwiLCJjaGVja1NlbGVjdCIsImNoZWNrQW1vdW50IiwiY2hlY2tFcnJvcnMiLCJyZWZyZXNoUG9wdXAiLCJhZGQiLCJjbGFzc0xpc3QiLCJzY3JvbGxCbG9jayIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJzdHlsZSIsImRpc3BsYXkiLCJzaG93RXJyb3IiLCJmb3JtQm94IiwiZXJyb3JNc2ciLCJ0ZXh0Q29udGVudCIsIm1zZyIsImlucHV0IiwicGFyZW50RWxlbWVudCIsImNsZWFyRXJyb3IiLCJjbGVhckFsbCIsImZvckVhY2giLCJ2YWx1ZSIsImVsIiwicGxhY2Vob2xkZXIiLCJsZW5ndGgiLCJtaW4iLCJyZSIsIlJlZ0V4cCIsInRlc3QiLCJlbWFpbCIsImxpbWl0QW1vdW50Iiwic2VsZWN0IiwiYWxsSW5wdXRzIiwiY29udGFpbnMiLCJlcnJvckNvdW50Iiwic2Nyb2xsQmFyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJkb2N1bWVudFdp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RUFxQk8zQixRQUFBQSxTQUFBQSxHQUNMaUIsRUFBQWpCLFVBQU00QixTQUFBLFNBQUEsR0FwQk5DLENBcUJLN0IsRUFuQlAsQ0FxQkEsRUFHZ0JELElBQWZqQyxJQXJCQWdELFNBc0JJZCxFQUNMN0IsY0FBQWlDLE1BQUFDLFFBQUEsUUFDQW5DLFdBQUFrQyxNQUFBQyxRQUFBLE9BcEJELEVBRU1KLFlBQWMsV0FDbkIsSUFBTStCLEVBQWdCaEQsU0FBUytDLGdCQUFnQkUsWUFFekNILEVBRGNJLE9BQU9DLFdBQ1VILEVBQ3JDaEQsU0FBUytDLGdCQUFnQjNCLE1BQU1nQyxZQUFZLGtCQUFtQk4sRUFBaUIsSUFBSSxFQUUvRTdELE1BQU0rQixVQUFVNEIsU0FBUyxlQUFlLElBQ3ZDOUQsS0FBS2tDLFVBQVU0QixTQUFTLGNBQWMsRUFDekM5RCxLQUFLa0MsVUFBVUcsT0FBTyxjQUFjLEVBRXBDckMsS0FBS2tDLFVBQVVELElBQUksY0FBYyxHQUlkLEVBQWpCK0IsSUFDSGhFLEtBQUtrQyxVQUFVRCxJQUFJLHNCQUFzQixFQUN6Q2hDLElBQUlpQyxVQUFVRCxJQUFJLHNCQUFzQixFQUUxQyxFQUVBZixTQUFTSyxpQkFBaUIsbUJBQW9CUCxTQUFTIiwiZmlsZSI6ImZvcm1TY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IEJPRFlcclxubGV0IE5BVlxyXG5sZXQgRklSU1RfU1BFQ0lBTF9CVE5cclxubGV0IFBPUFVQXHJcbmxldCBQT1BVUF9GT1JNXHJcbmxldCBQT1BVUF9NRVNTQUdFXHJcbmxldCBJTlBVVF9OQU1FXHJcbmxldCBJTlBVVF9MQVNUX05BTUVcclxubGV0IElOUFVUX1BIT05FX05VTUJFUlxyXG5sZXQgSU5QVVRfRU1BSUxcclxubGV0IFNFTEVDVF9UUkVBVE1FTlRcclxubGV0IElOUFVUX0FNT1VOVFxyXG5sZXQgUE9QVVBfSUNPTlxyXG5sZXQgUE9QVVBfRk9STV9CVE5cclxubGV0IFBPUFVQX01FU1NBR0VfQlROXHJcbmxldCBJTlBVVFNfQVJSQVlcclxuXHJcbmNvbnN0IHBvcHVwTWFpbiA9ICgpID0+IHtcclxuXHRwb3B1cFByZXBhcmVET01FbGVtZW50cygpXHJcblx0cG9wdXBQcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcG9wdXBQcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0Qk9EWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG5cdE5BViA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5cdEZJUlNUX1NQRUNJQUxfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1ib3hfX2l0ZW0nKVxyXG5cdFBPUFVQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJylcclxuXHRQT1BVUF9GT1JNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJylcclxuXHRQT1BVUF9NRVNTQUdFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19tZXNzYWdlJylcclxuXHRJTlBVVF9OQU1FID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLW5hbWUnKVxyXG5cdElOUFVUX0xBU1RfTkFNRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1sYXN0LW5hbWUnKVxyXG5cdElOUFVUX1BIT05FX05VTUJFUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1waG9uZS1udW1iZXInKVxyXG5cdElOUFVUX0VNQUlMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWVtYWlsJylcclxuXHRTRUxFQ1RfVFJFQVRNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLXRyZWF0bWVudCcpXHJcblx0SU5QVVRfQU1PVU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWFtb3VudCcpXHJcblx0UE9QVVBfSUNPTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYm94LWljb24nKVxyXG5cdFBPUFVQX0ZPUk1fQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19ib3gtYnRuJylcclxuXHRQT1BVUF9NRVNTQUdFX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fbWVzc2FnZS1idG4nKVxyXG5cdElOUFVUU19BUlJBWSA9IFtJTlBVVF9OQU1FLCBJTlBVVF9MQVNUX05BTUUsIElOUFVUX1BIT05FX05VTUJFUiwgSU5QVVRfRU1BSUwsIElOUFVUX0FNT1VOVF1cclxufVxyXG5cclxuY29uc3QgcG9wdXBQcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdFBPUFVQLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzaG93UG9wdXAsIHsgcGFzc2l2ZTogdHJ1ZSB9KVxyXG5cdEZJUlNUX1NQRUNJQUxfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1BvcHVwKVxyXG5cdFBPUFVQX0lDT04uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwKVxyXG5cdFBPUFVQX0ZPUk1fQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHJcblx0XHRjaGVja0Zvcm0oSU5QVVRTX0FSUkFZKVxyXG5cdFx0Y2hlY2tDaGFyYWN0ZXJzKElOUFVUX1BIT05FX05VTUJFUilcclxuXHRcdGNoZWNrTnVtYmVyKElOUFVUX1BIT05FX05VTUJFUiwgOSlcclxuXHRcdGNoZWNrTWFpbChJTlBVVF9FTUFJTClcclxuXHRcdGNoZWNrU2VsZWN0KFNFTEVDVF9UUkVBVE1FTlQpXHJcblx0XHRjaGVja0Ftb3VudChJTlBVVF9BTU9VTlQpXHJcblx0XHRjaGVja0Vycm9ycygpXHJcblx0fSlcclxuXHRQT1BVUF9NRVNTQUdFX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZnJlc2hQb3B1cClcclxufVxyXG5cclxuY29uc3Qgc2hvd1BvcHVwID0gKCkgPT4ge1xyXG5cdFBPUFVQLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1hY3RpdmUnKVxyXG5cdEZJUlNUX1NQRUNJQUxfQlROLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi1ib3hfX2l0ZW0tLWFjdGl2ZScpXHJcblx0c2Nyb2xsQmxvY2soKVxyXG59XHJcblxyXG5jb25zdCBjbG9zZVBvcHVwID0gKCkgPT4ge1xyXG5cdFBPUFVQLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwLS1hY3RpdmUnKVxyXG5cdEZJUlNUX1NQRUNJQUxfQlROLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi1ib3hfX2l0ZW0tLWFjdGl2ZScpXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRCT0RZLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbC1ibG9jaycpXHJcblx0XHRCT0RZLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbC1ibG9jay1wYWRkaW5nJylcclxuXHRcdE5BVi5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtYmxvY2stcGFkZGluZycpXHJcblx0fSwgMTAwKVxyXG59XHJcblxyXG5jb25zdCByZWZyZXNoUG9wdXAgPSAoKSA9PiB7XHJcblx0UE9QVVBfTUVTU0FHRS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0Y2xvc2VQb3B1cCgpXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRQT1BVUF9GT1JNLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuXHR9LCAzMDApXHJcbn1cclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLnBvcHVwX19ib3gtZXJyb3InKVxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnd2FybmluZycpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2JveC1lcnJvcicpXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCd3YXJuaW5nJylcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9ICcnXHJcbn1cclxuXHJcbmNvbnN0IGNsZWFyQWxsID0gKCkgPT4ge1xyXG5cdElOUFVUU19BUlJBWS5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLnZhbHVlID0gJydcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcm5pbmcnKVxyXG5cdH0pXHJcblx0U0VMRUNUX1RSRUFUTUVOVC52YWx1ZSA9ICcwJ1xyXG5cdFNFTEVDVF9UUkVBVE1FTlQuc3R5bGUuYm9yZGVyID0gJ25vbmUnXHJcblx0RklSU1RfU1BFQ0lBTF9CVE4uY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLWJveF9faXRlbS0tYWN0aXZlJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tGb3JtID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKGVsLnZhbHVlID09PSAnJykge1xyXG5cdFx0XHRzaG93RXJyb3IoZWwsIGVsLnBsYWNlaG9sZGVyKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbClcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBjaGVja051bWJlciA9IChpbnB1dCwgbWluKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbikge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCAnTnVtZXIgc2vFgmFkYSBzacSZIHogcHJ6eW5ham1uaWVqIDkgY3lmci4uJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQ2hhcmFjdGVycyA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBjaGVja0NoYXJhY3RlcnMgPSBuZXcgUmVnRXhwKCdeWzAtOV0qJCcpXHJcblxyXG5cdGlmIChjaGVja0NoYXJhY3RlcnMudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdGNsZWFyRXJyb3IoaW5wdXQpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgJ01vxbxlc3ogdcW8eXdhxIcgc2FteWNoIGN5ZnIhJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrTWFpbCA9IGVtYWlsID0+IHtcclxuXHRjb25zdCByZSA9XHJcblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC9cclxuXHJcblx0aWYgKHJlLnRlc3QoZW1haWwudmFsdWUpKSB7XHJcblx0XHRjbGVhckVycm9yKGVtYWlsKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoZW1haWwsICdXcHJvd2FkxbogcG9wcmF3bmllIHN3w7NqIGUtbWFpbC4uJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQW1vdW50ID0gaW5wdXQgPT4ge1xyXG5cdGlmIChpbnB1dC52YWx1ZSA+IDApIHtcclxuXHRcdGNsZWFyRXJyb3IoaW5wdXQpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgJ1BvZGFqIGlsb8WbxIcgb3PDs2IuLicpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBsaW1pdEFtb3VudCA9ICgpID0+IHtcclxuXHRpZiAoSU5QVVRfQU1PVU5ULnZhbHVlID4gNSkge1xyXG5cdFx0SU5QVVRfQU1PVU5ULnZhbHVlID0gJzUnXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja1NlbGVjdCA9IHNlbGVjdCA9PiB7XHJcblx0aWYgKHNlbGVjdC52YWx1ZSAhPT0gJzAnKSB7XHJcblx0XHRjbGVhckVycm9yKHNlbGVjdClcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0Vycm9yKHNlbGVjdCwgJ1d5YmllcnogemFiaWVnLi4nKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19ib3gnKVxyXG5cdGxldCBlcnJvckNvdW50ID0gMFxyXG5cclxuXHRhbGxJbnB1dHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd3YXJuaW5nJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0aWYgKGVycm9yQ291bnQgPT09IDApIHtcclxuXHRcdGNsZWFyQWxsKClcclxuXHRcdFBPUFVQX01FU1NBR0Uuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuXHRcdFBPUFVQX0ZPUk0uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc2Nyb2xsQmxvY2sgPSAoKSA9PiB7XHJcblx0Y29uc3QgZG9jdW1lbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aFxyXG5cdGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcclxuXHRjb25zdCBzY3JvbGxCYXJXaWR0aCA9IHdpbmRvd1dpZHRoIC0gZG9jdW1lbnRXaWR0aFxyXG5cdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wYWRkaW5nLXNwYWNlJywgc2Nyb2xsQmFyV2lkdGggKyAncHgnKVxyXG5cclxuXHRpZiAoUE9QVVAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC0tYWN0aXZlJykpIHtcclxuXHRcdGlmIChCT0RZLmNsYXNzTGlzdC5jb250YWlucygnc2Nyb2xsLWJsb2NrJykpIHtcclxuXHRcdFx0Qk9EWS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtYmxvY2snKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Qk9EWS5jbGFzc0xpc3QuYWRkKCdzY3JvbGwtYmxvY2snKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHNjcm9sbEJhcldpZHRoID4gMCkge1xyXG5cdFx0Qk9EWS5jbGFzc0xpc3QuYWRkKCdzY3JvbGwtYmxvY2stcGFkZGluZycpXHJcblx0XHROQVYuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLWJsb2NrLXBhZGRpbmcnKVxyXG5cdH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHBvcHVwTWFpbilcclxuIl19
