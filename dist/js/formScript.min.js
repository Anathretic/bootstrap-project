"use strict";var BODY,NAV,FIRST_SPECIAL_BTN,POPUP,POPUP_FORM,POPUP_MESSAGE,INPUT_NAME,INPUT_LAST_NAME,INPUT_PHONE_NUMBER,INPUT_EMAIL,SELECT_TREATMENT,INPUT_AMOUNT,INPUT_DATE,POPUP_ICON,POPUP_FORM_BTN,POPUP_MESSAGE_BTN,INPUTS_ARRAY,popupMain=function(){popupPrepareDOMElements(),popupPrepareDOMEvents()},popupPrepareDOMElements=function(){BODY=document.querySelector("body"),NAV=document.querySelector(".nav"),FIRST_SPECIAL_BTN=document.querySelector(".button-box__item"),POPUP=document.querySelector(".popup"),POPUP_FORM=document.querySelector(".popup__form"),POPUP_MESSAGE=document.querySelector(".popup__message"),INPUT_NAME=document.querySelector("#popup-name"),INPUT_LAST_NAME=document.querySelector("#popup-last-name"),INPUT_PHONE_NUMBER=document.querySelector("#popup-phone-number"),INPUT_EMAIL=document.querySelector("#popup-email"),SELECT_TREATMENT=document.querySelector("#popup-treatment"),INPUT_AMOUNT=document.querySelector("#popup-amount"),INPUT_DATE=document.querySelector("#popup-date"),POPUP_ICON=document.querySelector(".popup__box-icon"),POPUP_FORM_BTN=document.querySelector(".popup__box-btn"),POPUP_MESSAGE_BTN=document.querySelector(".popup__message-btn"),INPUTS_ARRAY=[INPUT_NAME,INPUT_LAST_NAME,INPUT_PHONE_NUMBER,INPUT_EMAIL,INPUT_AMOUNT]},popupPrepareDOMEvents=function(){POPUP.addEventListener("touchstart",showPopup,{passive:!0}),FIRST_SPECIAL_BTN.addEventListener("click",showPopup),POPUP_ICON.addEventListener("click",closePopup),POPUP_FORM_BTN.addEventListener("click",function(e){e.preventDefault(),checkForm(INPUTS_ARRAY),checkCharacters(INPUT_PHONE_NUMBER),checkNumber(INPUT_PHONE_NUMBER,9),checkMail(INPUT_EMAIL),checkSelect(SELECT_TREATMENT),checkAmount(INPUT_AMOUNT),checkDate(INPUT_DATE),checkErrors()}),POPUP_MESSAGE_BTN.addEventListener("click",refreshPopup)},showPopup=function(){POPUP.classList.add("popup--active"),FIRST_SPECIAL_BTN.classList.add("button-box__item--active"),scrollBlock()},closePopup=function(){POPUP.classList.remove("popup--active"),FIRST_SPECIAL_BTN.classList.remove("button-box__item--active"),setTimeout(function(){BODY.classList.remove("scroll-block"),BODY.classList.remove("scroll-block-padding"),NAV.classList.remove("scroll-block-padding")},100)},refreshPopup=function(){POPUP_MESSAGE.style.display="none",closePopup(),setTimeout(function(){POPUP_FORM.style.display="flex"},300)},showError=function(e,o){var e=e.parentElement,t=e.querySelector(".popup__box-error");e.classList.add("warning"),t.textContent=o},clearError=function(e){var e=e.parentElement,o=e.querySelector(".popup__box-error");e.classList.remove("warning"),o.textContent=""},clearAll=function(){INPUTS_ARRAY.forEach(function(e){e.value="",e.classList.remove("warning")}),SELECT_TREATMENT.value="0",SELECT_TREATMENT.style.border="none",FIRST_SPECIAL_BTN.classList.remove("button-box__item--active")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})},checkNumber=function(e,o){e.value.length<o&&showError(e,"Numer składa się z przynajmniej 9 cyfr..")},checkCharacters=function(e){new RegExp("^[0-9]*$").test(e.value)?clearError(e):showError(e,"Możesz używać samych cyfr!")},checkMail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"Wprowadź poprawnie swój e-mail..")},checkAmount=function(e){0<e.value?clearError(e):showError(e,"Podaj ilość osób..")},limitAmount=function(){5<INPUT_AMOUNT.value&&(INPUT_AMOUNT.value="5")},checkSelect=function(e){"0"!==e.value?clearError(e):showError(e,"Wybierz zabieg..")},checkDate=function(e){/^\d{4}-\d{2}-\d{2}$/.test(e.value)?clearError(e):showError(e,"Wprowadź prawidłową datę..")},checkErrors=function(){var e=document.querySelectorAll(".popup__box"),o=0;e.forEach(function(e){e.classList.contains("warning")&&o++}),0===o&&(clearAll(),POPUP_MESSAGE.style.display="block",POPUP_FORM.style.display="none")},scrollBlock=function(){var e=document.documentElement.clientWidth,e=window.innerWidth-e;document.documentElement.style.setProperty("--padding-space",e+"px"),POPUP.classList.contains("popup--active")&&(BODY.classList.contains("scroll-block")?BODY.classList.remove("scroll-block"):BODY.classList.add("scroll-block")),0<e&&(BODY.classList.add("scroll-block-padding"),NAV.classList.add("scroll-block-padding"))};document.addEventListener("DOMContentLoaded",popupMain);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1TY3JpcHQuanMiXSwibmFtZXMiOlsiQk9EWSIsIk5BViIsIkZJUlNUX1NQRUNJQUxfQlROIiwiUE9QVVAiLCJQT1BVUF9GT1JNIiwiUE9QVVBfTUVTU0FHRSIsIklOUFVUX05BTUUiLCJJTlBVVF9MQVNUX05BTUUiLCJJTlBVVF9QSE9ORV9OVU1CRVIiLCJJTlBVVF9FTUFJTCIsIlNFTEVDVF9UUkVBVE1FTlQiLCJJTlBVVF9BTU9VTlQiLCJJTlBVVF9EQVRFIiwiUE9QVVBfSUNPTiIsIlBPUFVQX0ZPUk1fQlROIiwiSU5QVVRTX0FSUkFZIiwicG9wdXBQcmVwYXJlRE9NRWxlbWVudHMiLCJwb3B1cE1haW4iLCJwb3B1cFByZXBhcmVET01FdmVudHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJQT1BVUF9NRVNTQUdFX0JUTiIsInBhc3NpdmUiLCJzaG93UG9wdXAiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VQb3B1cCIsImNoZWNrRm9ybSIsImNoZWNrQ2hhcmFjdGVycyIsImNoZWNrTnVtYmVyIiwiY2hlY2tNYWlsIiwiY2hlY2tTZWxlY3QiLCJjaGVja0Ftb3VudCIsImNoZWNrRGF0ZSIsImNoZWNrRXJyb3JzIiwicmVmcmVzaFBvcHVwIiwiYWRkIiwiY2xhc3NMaXN0Iiwic2Nyb2xsQmxvY2siLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwic3R5bGUiLCJkaXNwbGF5Iiwic2hvd0Vycm9yIiwiZm9ybUJveCIsImVycm9yTXNnIiwidGV4dENvbnRlbnQiLCJtc2ciLCJpbnB1dCIsInBhcmVudEVsZW1lbnQiLCJjbGVhckVycm9yIiwiY2xlYXJBbGwiLCJmb3JFYWNoIiwidmFsdWUiLCJlbCIsInBsYWNlaG9sZGVyIiwibGVuZ3RoIiwibWluIiwicmUiLCJSZWdFeHAiLCJ0ZXN0IiwiZW1haWwiLCJsaW1pdEFtb3VudCIsInNlbGVjdCIsImRhdGUiLCJhbGxJbnB1dHMiLCJlcnJvckNvdW50IiwiZG9jdW1lbnRXaWR0aCIsImNvbnRhaW5zIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJzZXRQcm9wZXJ0eSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsS0FDQUMsSUFEQUQsa0JBQ0FDLE1BQ0FDLFdBQ0FDLGNBQ0FDLFdBQ0FDLGdCQUNBQyxtQkFDQUMsWUFDQUMsaUJBQ0FDLGFBQ0FDLFdBQ0FDLFdBQ0FDLGVBQ0FDLGtCQUNBQyxhQUVBQyxVQUFZLFdBRWhCQyx3QkFBTUMsRUFFTEMsc0JBREFGLENBRUQsRUFFTUEsd0JBQTBCLFdBQy9CaEIsS0FBSW1CLFNBQVdDLGNBQWMsTUFBQyxFQUM5Qm5CLElBQUdrQixTQUFXQyxjQUFjLE1BQUMsRUFDN0JsQixrQkFBaUJpQixTQUFXQyxjQUFjLG1CQUFDLEVBQzNDakIsTUFBS2dCLFNBQVdDLGNBQWMsUUFBQyxFQUMvQmhCLFdBQVVlLFNBQVdDLGNBQWMsY0FBQyxFQUNwQ2YsY0FBYWMsU0FBV0MsY0FBYyxpQkFBQyxFQUN2Q2QsV0FBVWEsU0FBV0MsY0FBYyxhQUFDLEVBQ3BDYixnQkFBZVksU0FBV0MsY0FBYyxrQkFBQyxFQUN6Q1osbUJBQWtCVyxTQUFXQyxjQUFjLHFCQUFDLEVBQzVDWCxZQUFXVSxTQUFXQyxjQUFjLGNBQUMsRUFDckNWLGlCQUFnQlMsU0FBV0MsY0FBYyxrQkFBQyxFQUMxQ1QsYUFBWVEsU0FBV0MsY0FBYyxlQUFDLEVBQ3RDUixXQUFVTyxTQUFXQyxjQUFjLGFBQUMsRUFDcENQLFdBQVVNLFNBQVdDLGNBQWMsa0JBQUMsRUFDcENOLGVBQWNLLFNBQVdDLGNBQWMsaUJBQUMsRUFDeENDLGtCQUFpQkYsU0FBV0MsY0FBYyxxQkFBQyxFQUMzQ0wsYUFBWSxDQUFHVCxXQUFXQyxnQkFBaUJDLG1CQUFvQkMsWUFBYUUsYUFDN0UsRUFHQ1Isc0JBQXVCLFdBQXZCQSxNQUFrRG1CLGlCQUFTLGFBQUFDLFVBQUEsQ0FBQUQsUUFBQSxDQUFBLENBQUEsQ0FBQSxFQUMzRHBCLGtCQURrRXNCLGlC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QSxDQWxCZixFQXVCRWYsVUFBVSxTQUFBYSxHQUNWMUQsc0JBRURzRCxLQUFBSSxFQUFBWCxLQUFBLEVBQ0FILFdBQUFjLENBQUEsRUFHQXJCLFVBQU13QixFQUFBQSw0QkFBd0MsQ0FwQi9DLEVBeUJLL0QsWUFBTWlDLFdBdEJWLElBdUJDNEIsRUFBUzVCLFNBQVUrQixpQkFBUyxhQUFpQixFQXRCMUNGLEVBdUJHN0IsRUFyQlA0QixFQXVCTzVCLFFBQUFBLFNBQUFBLEdBQ05pQixFQUFBakIsVUFBQStCLFNBQUEsU0FBQSxHQUNERixDQUFBLEVBckJBLENBQUMsRUEwQkQsSUFBQUEsSUFDQWYsU0FBQSxFQUVEL0IsY0FBU0ssTUFBQUEsUUFBaUIsUUF4QnhCcEIsV0FBV29DLE1BQU1DLFFBQVUsT0FFN0IsRUFFTUosWUFBYyxXQUNuQixJQUFNNkIsRUFBZ0IvQyxTQUFTaUQsZ0JBQWdCQyxZQUV6Q0MsRUFEY0MsT0FBT0MsV0FDVU4sRUFDckMvQyxTQUFTaUQsZ0JBQWdCNUIsTUFBTWlDLFlBQVksa0JBQW1CSCxFQUFpQixJQUFJLEVBRS9FbkUsTUFBTWlDLFVBQVUrQixTQUFTLGVBQWUsSUFDdkNuRSxLQUFLb0MsVUFBVStCLFNBQVMsY0FBYyxFQUN6Q25FLEtBQUtvQyxVQUFVRyxPQUFPLGNBQWMsRUFFcEN2QyxLQUFLb0MsVUFBVUQsSUFBSSxjQUFjLEdBSWQsRUFBakJtQyxJQUNIdEUsS0FBS29DLFVBQVVELElBQUksc0JBQXNCLEVBQ3pDbEMsSUFBSW1DLFVBQVVELElBQUksc0JBQXNCLEVBRTFDLEVBRUFoQixTQUFTSyxpQkFBaUIsbUJBQW9CUCxTQUFTIiwiZmlsZSI6ImZvcm1TY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IEJPRFlcclxubGV0IE5BVlxyXG5sZXQgRklSU1RfU1BFQ0lBTF9CVE5cclxubGV0IFBPUFVQXHJcbmxldCBQT1BVUF9GT1JNXHJcbmxldCBQT1BVUF9NRVNTQUdFXHJcbmxldCBJTlBVVF9OQU1FXHJcbmxldCBJTlBVVF9MQVNUX05BTUVcclxubGV0IElOUFVUX1BIT05FX05VTUJFUlxyXG5sZXQgSU5QVVRfRU1BSUxcclxubGV0IFNFTEVDVF9UUkVBVE1FTlRcclxubGV0IElOUFVUX0FNT1VOVFxyXG5sZXQgSU5QVVRfREFURVxyXG5sZXQgUE9QVVBfSUNPTlxyXG5sZXQgUE9QVVBfRk9STV9CVE5cclxubGV0IFBPUFVQX01FU1NBR0VfQlROXHJcbmxldCBJTlBVVFNfQVJSQVlcclxuXHJcbmNvbnN0IHBvcHVwTWFpbiA9ICgpID0+IHtcclxuXHRwb3B1cFByZXBhcmVET01FbGVtZW50cygpXHJcblx0cG9wdXBQcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcG9wdXBQcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0Qk9EWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG5cdE5BViA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5cdEZJUlNUX1NQRUNJQUxfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1ib3hfX2l0ZW0nKVxyXG5cdFBPUFVQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJylcclxuXHRQT1BVUF9GT1JNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJylcclxuXHRQT1BVUF9NRVNTQUdFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19tZXNzYWdlJylcclxuXHRJTlBVVF9OQU1FID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLW5hbWUnKVxyXG5cdElOUFVUX0xBU1RfTkFNRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1sYXN0LW5hbWUnKVxyXG5cdElOUFVUX1BIT05FX05VTUJFUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1waG9uZS1udW1iZXInKVxyXG5cdElOUFVUX0VNQUlMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWVtYWlsJylcclxuXHRTRUxFQ1RfVFJFQVRNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLXRyZWF0bWVudCcpXHJcblx0SU5QVVRfQU1PVU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWFtb3VudCcpXHJcblx0SU5QVVRfREFURSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1kYXRlJylcclxuXHRQT1BVUF9JQ09OID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19ib3gtaWNvbicpXHJcblx0UE9QVVBfRk9STV9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2JveC1idG4nKVxyXG5cdFBPUFVQX01FU1NBR0VfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19tZXNzYWdlLWJ0bicpXHJcblx0SU5QVVRTX0FSUkFZID0gW0lOUFVUX05BTUUsIElOUFVUX0xBU1RfTkFNRSwgSU5QVVRfUEhPTkVfTlVNQkVSLCBJTlBVVF9FTUFJTCwgSU5QVVRfQU1PVU5UXVxyXG59XHJcblxyXG5jb25zdCBwb3B1cFByZXBhcmVET01FdmVudHMgPSAoKSA9PiB7XHJcblx0UE9QVVAuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHNob3dQb3B1cCwgeyBwYXNzaXZlOiB0cnVlIH0pXHJcblx0RklSU1RfU1BFQ0lBTF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UG9wdXApXHJcblx0UE9QVVBfSUNPTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUG9wdXApXHJcblx0UE9QVVBfRk9STV9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuXHRcdGNoZWNrRm9ybShJTlBVVFNfQVJSQVkpXHJcblx0XHRjaGVja0NoYXJhY3RlcnMoSU5QVVRfUEhPTkVfTlVNQkVSKVxyXG5cdFx0Y2hlY2tOdW1iZXIoSU5QVVRfUEhPTkVfTlVNQkVSLCA5KVxyXG5cdFx0Y2hlY2tNYWlsKElOUFVUX0VNQUlMKVxyXG5cdFx0Y2hlY2tTZWxlY3QoU0VMRUNUX1RSRUFUTUVOVClcclxuXHRcdGNoZWNrQW1vdW50KElOUFVUX0FNT1VOVClcclxuXHRcdGNoZWNrRGF0ZShJTlBVVF9EQVRFKVxyXG5cdFx0Y2hlY2tFcnJvcnMoKVxyXG5cdH0pXHJcblx0UE9QVVBfTUVTU0FHRV9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZWZyZXNoUG9wdXApXHJcbn1cclxuXHJcbmNvbnN0IHNob3dQb3B1cCA9ICgpID0+IHtcclxuXHRQT1BVUC5jbGFzc0xpc3QuYWRkKCdwb3B1cC0tYWN0aXZlJylcclxuXHRGSVJTVF9TUEVDSUFMX0JUTi5jbGFzc0xpc3QuYWRkKCdidXR0b24tYm94X19pdGVtLS1hY3RpdmUnKVxyXG5cdHNjcm9sbEJsb2NrKClcclxufVxyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRQT1BVUC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC0tYWN0aXZlJylcclxuXHRGSVJTVF9TUEVDSUFMX0JUTi5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tYm94X19pdGVtLS1hY3RpdmUnKVxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Qk9EWS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtYmxvY2snKVxyXG5cdFx0Qk9EWS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtYmxvY2stcGFkZGluZycpXHJcblx0XHROQVYuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsLWJsb2NrLXBhZGRpbmcnKVxyXG5cdH0sIDEwMClcclxufVxyXG5cclxuY29uc3QgcmVmcmVzaFBvcHVwID0gKCkgPT4ge1xyXG5cdFBPUFVQX01FU1NBR0Uuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdGNsb3NlUG9wdXAoKVxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0UE9QVVBfRk9STS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcblx0fSwgMzAwKVxyXG59XHJcblxyXG5jb25zdCBzaG93RXJyb3IgPSAoaW5wdXQsIG1zZykgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYm94LWVycm9yJylcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoJ3dhcm5pbmcnKVxyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gbXNnXHJcbn1cclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLnBvcHVwX19ib3gtZXJyb3InKVxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnd2FybmluZycpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSAnJ1xyXG59XHJcblxyXG5jb25zdCBjbGVhckFsbCA9ICgpID0+IHtcclxuXHRJTlBVVFNfQVJSQVkuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC52YWx1ZSA9ICcnXHJcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCd3YXJuaW5nJylcclxuXHR9KVxyXG5cdFNFTEVDVF9UUkVBVE1FTlQudmFsdWUgPSAnMCdcclxuXHRTRUxFQ1RfVFJFQVRNRU5ULnN0eWxlLmJvcmRlciA9ICdub25lJ1xyXG5cdEZJUlNUX1NQRUNJQUxfQlROLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi1ib3hfX2l0ZW0tLWFjdGl2ZScpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcilcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoZWwpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgY2hlY2tOdW1iZXIgPSAoaW5wdXQsIG1pbikgPT4ge1xyXG5cdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW4pIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgJ051bWVyIHNrxYJhZGEgc2nEmSB6IHByenluYWptbmllaiA5IGN5ZnIuLicpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja0NoYXJhY3RlcnMgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgY2hlY2tDaGFyYWN0ZXJzID0gbmV3IFJlZ0V4cCgnXlswLTldKiQnKVxyXG5cclxuXHRpZiAoY2hlY2tDaGFyYWN0ZXJzLnRlc3QoaW5wdXQudmFsdWUpKSB7XHJcblx0XHRjbGVhckVycm9yKGlucHV0KVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoaW5wdXQsICdNb8W8ZXN6IHXFvHl3YcSHIHNhbXljaCBjeWZyIScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja01haWwgPSBlbWFpbCA9PiB7XHJcblx0Y29uc3QgcmUgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvXHJcblxyXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbClcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0Vycm9yKGVtYWlsLCAnV3Byb3dhZMW6IHBvcHJhd25pZSBzd8OzaiBlLW1haWwuLicpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Ftb3VudCA9IGlucHV0ID0+IHtcclxuXHRpZiAoaW5wdXQudmFsdWUgPiAwKSB7XHJcblx0XHRjbGVhckVycm9yKGlucHV0KVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoaW5wdXQsICdQb2RhaiBpbG/Fm8SHIG9zw7NiLi4nKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgbGltaXRBbW91bnQgPSAoKSA9PiB7XHJcblx0aWYgKElOUFVUX0FNT1VOVC52YWx1ZSA+IDUpIHtcclxuXHRcdElOUFVUX0FNT1VOVC52YWx1ZSA9ICc1J1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tTZWxlY3QgPSBzZWxlY3QgPT4ge1xyXG5cdGlmIChzZWxlY3QudmFsdWUgIT09ICcwJykge1xyXG5cdFx0Y2xlYXJFcnJvcihzZWxlY3QpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihzZWxlY3QsICdXeWJpZXJ6IHphYmllZy4uJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRGF0ZSA9IGRhdGUgPT4ge1xyXG5cdGNvbnN0IHJlID0gL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvXHJcblxyXG5cdGlmIChyZS50ZXN0KGRhdGUudmFsdWUpKSB7XHJcblx0XHRjbGVhckVycm9yKGRhdGUpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihkYXRlLCAnV3Byb3dhZMW6IHByYXdpZMWCb3fEhSBkYXTEmS4uJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fYm94JylcclxuXHRsZXQgZXJyb3JDb3VudCA9IDBcclxuXHJcblx0YWxsSW5wdXRzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnd2FybmluZycpKSB7XHJcblx0XHRcdGVycm9yQ291bnQrK1xyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGlmIChlcnJvckNvdW50ID09PSAwKSB7XHJcblx0XHRjbGVhckFsbCgpXHJcblx0XHRQT1BVUF9NRVNTQUdFLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHRQT1BVUF9GT1JNLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHNjcm9sbEJsb2NrID0gKCkgPT4ge1xyXG5cdGNvbnN0IGRvY3VtZW50V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcclxuXHRjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcblx0Y29uc3Qgc2Nyb2xsQmFyV2lkdGggPSB3aW5kb3dXaWR0aCAtIGRvY3VtZW50V2lkdGhcclxuXHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFkZGluZy1zcGFjZScsIHNjcm9sbEJhcldpZHRoICsgJ3B4JylcclxuXHJcblx0aWYgKFBPUFVQLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtLWFjdGl2ZScpKSB7XHJcblx0XHRpZiAoQk9EWS5jbGFzc0xpc3QuY29udGFpbnMoJ3Njcm9sbC1ibG9jaycpKSB7XHJcblx0XHRcdEJPRFkuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsLWJsb2NrJylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdEJPRFkuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLWJsb2NrJylcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChzY3JvbGxCYXJXaWR0aCA+IDApIHtcclxuXHRcdEJPRFkuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLWJsb2NrLXBhZGRpbmcnKVxyXG5cdFx0TkFWLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbC1ibG9jay1wYWRkaW5nJylcclxuXHR9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBwb3B1cE1haW4pXHJcbiJdfQ==
